<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>别踩白块</title>
	<style type="text/css">
	body {font-size:12px;margin:0 auto;}
	.block{height:102px;width:306px;border:1px solid black;}

	.block1{height:100px;width:100px;border:1px solid black;float:right;}

	.block2{height:100px;width:100px;border:1px solid black;float:right;}

	.block3{height:100px;width:100px;border:1px solid black;float:right;}

	#north{text-align:center;}

	#center{margin:0 auto;width:306px;cursor:pointer;}
	</style>
	<!--<script type="text/javascript" src="js/jquery.min.js"></script>-->
	<script src="jquery.min.js"></script>
	
	<script type="text/javascript">
	var list1=[0,0,0];//0=白，1=黑
	var list2=[0,0,0];//0=白，1=黑
	var list3=[0,0,0];//0=白，1=黑
	var list4=[0,0,0];//0=白，1=黑
	var list5=[0,0,0];//0=白，1=黑
	var temp=[0,0,1];//0=白，1=黑
	var touch=[-1,-1,-1,-1,-1];//代表每行是否操作过，-1=无效，0=未操作，1=已操作
	var time=1000;//时间
	
	var sum = 0;//总得分
	
	var setinterval;
	var flag = true;//判断是否有点击事件
	
	function changeList(){
	
	if(touch[0]==0){
		endGame();
	}
	
		temp=[0,0,0];
		var num = parseInt(Math.random()*3);
		temp[num] = 1;

		list1=list2;
		list2=list3;
		list3=list4;
		list4=list5;
		list5=temp;
		
		var tempNum = 0;
		
		touch[0] = touch[1];
		touch[1] = touch[2];
		touch[2] = touch[3];
		touch[3] = touch[4];
		touch[4] = tempNum;
		
	if(list1[0]==0)
		$("#block11").css('background-color','white');
	else
		$("#block11").css('background-color','black');
	if(list1[1]==0)
		$("#block12").css('background-color','white');
	else
		$("#block12").css('background-color','black');
	if(list1[2]==0)
		$("#block13").css('background-color','white');
	else
		$("#block13").css('background-color','black');	
		
	if(list2[0]==0)
		$("#block21").css('background-color','white');
	else
		$("#block21").css('background-color','black');
	if(list2[1]==0)
		$("#block22").css('background-color','white');
	else
		$("#block22").css('background-color','black');
	if(list2[2]==0)
		$("#block23").css('background-color','white');
	else
		$("#block23").css('background-color','black');	
		
	if(list3[0]==0)
		$("#block31").css('background-color','white');
	else
		$("#block31").css('background-color','black');
	if(list3[1]==0)
		$("#block32").css('background-color','white');
	else
		$("#block32").css('background-color','black');	
	if(list3[2]==0)
		$("#block33").css('background-color','white');
	else
		$("#block33").css('background-color','black');	
		
	if(list4[0]==0)
		$("#block41").css('background-color','white');
	else
		$("#block41").css('background-color','black');
	if(list4[1]==0)
		$("#block42").css('background-color','white');
	else
		$("#block42").css('background-color','black');	
	if(list4[2]==0)
		$("#block43").css('background-color','white');
	else
		$("#block43").css('background-color','black');	
		
	if(list5[0]==0)
		$("#block51").css('background-color','white');
	else
		$("#block51").css('background-color','black');
	if(list5[1]==0)
		$("#block52").css('background-color','white');
	else
		$("#block52").css('background-color','black');
	if(list5[2]==0)
		$("#block53").css('background-color','white');
	else
		$("#block53").css('background-color','black');	
	
	}
	
	function endGame(){
	    clearInterval(setinterval); 
		flag = false;
		$('#score').text(sum);
	    $('#dialog').css('display','block');
		return ;
	}
	
	function reFresh(){
		window.location.reload();
	}
	
	function kong(){

	}
	
	function show(number,list){
		if(flag){
	    console.log('list='+list+',number='+number);
		var local=[]; 
		switch(list){
		case 1:local = list1;touch[0]=1;break;
		case 2:local = list2;touch[1]=1;break;
		case 3:local = list3;touch[2]=1;break;
		case 4:local = list4;touch[3]=1;break;
		default:local = list5;touch[4]=1;break;
		}
		if(0 == local[number]){
			endGame();
		}else if(1 == touch[list]){
        
        }else{
            touch[list] = 1;
			sum = sum +1;
			$('#score').text(sum);
		}
		}
	}
	
	$(function(){
		var newtime = 1000;/// Math.ceil(sum/20);
		setinterval = setInterval(changeList,newtime);

//changeList();
	});
	
	
	</script>
	
</head>
<body>
	<div id="north">
		<!--<h3>参数设定</h3>-->
		<div><h1> 得分： <span id="score">0</span>分</h1><div>
		<!--<span>游戏时间（单位：秒）：<input type="number" id="time"></input>&nbsp;&nbsp;<input type="button" value="开始" id="start"></input></span>-->
	</div>
	
	<div style="height:20px;width:100%;">&nbsp;</div>
	
	<div id="center">
	
	<div class="block">
		<div class="block1" onclick="show(0,5)" id="block51"></div><!-- block31,3代表list3,1代表list3里面的第一个元素-->
		<div class="block2" onclick="show(1,5)" id="block52"></div>
		<div class="block3" onclick="show(2,5)" id="block53"></div>
	</div>
	
	<div class = "block">
		<div class="block1" onclick="show(0,4)" id="block41"></div>
		<div class="block2" onclick="show(1,4)" id="block42"></div>
		<div class="block3" onclick="show(2,4)" id="block43"></div>
	</div>
	
	<div class = "block">
		<div class="block1" onclick="show(0,3)" id="block31"></div>
		<div class="block2" onclick="show(1,3)" id="block32"></div>
		<div class="block3" onclick="show(2,3)" id="block33"></div>
	</div>
	
	<div class = "block">
		<div class="block1" onclick="show(0,2)" id="block21"></div>
		<div class="block2" onclick="show(1,2)" id="block22"></div>
		<div class="block3" onclick="show(2,2)" id="block23"></div>
	</div>
	
	<div class = "block">
		<div class="block1" onclick="show(0,1)" id="block11"></div>
		<div class="block2" onclick="show(1,1)" id="block12"></div>
		<div class="block3" onclick="show(2,1)" id="block13"></div>
	</div>
	</div>
	
	<div style="display:none;" id="dialog"><h1 onclick="reFresh()">你输了，哈哈哈哈</h1></div>

</body>
</html>
